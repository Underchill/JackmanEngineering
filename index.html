<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JJ</title>
    <!-- 
      Load Tailwind CSS for styling.
      The typography plugin is added for nice text formatting.
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <!-- Load three.js (core library) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Load OrbitControls (for mouse/touch rotation) -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <!-- Loaders for .obj and .mtl files -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/RGBELoader.js"></script> <style>
    <style>
        /* Custom style for the canvas to ensure it resizes correctly */
        #three-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
</head>
<body class="font-sans bg-slate-100 min-h-screen flex items-center justify-center p-4">

    <!-- 
      Main card container.
      Flex layout to create columns.
      Stacks vertically on mobile (flex-col) and sits side-by-side on desktop (md:flex-row).
      Grows to fill more of the screen.
    -->
    <div class="bg-white shadow-xl rounded-lg w-full h-full max-w-full overflow-hidden flex flex-col md:flex-row" style="height: calc(100vh - 2rem); max-height: 1200px;">

        <!-- 
          Column 1: Canvas Container
          Takes 60% of width on desktop, full width on mobile.
          min-h-[50vh] (mobile) for more vertical space, md:min-h-0 (desktop).
          Added flex-grow and flex-shrink to allow flexible sizing on mobile.
        -->
        <div id="canvas-container" class="w-full md:w-3/5 rounded-lg overflow-hidden bg-slate-200 relative min-h-[50vh] md:min-h-0 flex-grow flex-shrink">
            <!-- This is the canvas our 3D scene will be rendered into -->
            <canvas id="three-canvas"></canvas>

            <!-- Loading Indicator -->
            <div id="loading-indicator" class_comment_section_id="loading-indicator" class="absolute inset-0 z-10 flex flex-col items-center justify-center bg-slate-200 bg-opacity-90 transition-opacity duration-300">
                <div class="text-slate-700 text-lg font-medium">Loading 3D Models...</div>
                <div id="loading-progress" class="text-slate-600 text-sm mt-2">0%</div>
                <div class="w-3/4 max-w-sm bg-slate-300 rounded-full h-2.5 mt-4">
                    <div id="loading-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
                <p class="mt-4 text-xs text-slate-500 text-center px-4">Loading 7 model parts. Please wait.</p>
            </div>
        </div>

        <!-- 
          Column 2: Text Box
          Takes 40% of width on desktop, full width on mobile.
          Uses flex-col to allow text area to grow and scroll.
          Added flex-grow and flex-shrink to allow flexible sizing on mobile.
        -->
        <div classs="w-full md:w-2/5 flex flex-col min-h-[200px] md:h-full flex-grow flex-shrink">
            <!-- This inner div adds padding and handles the scrolling content -->
            <div class="p-6 md:p-8 flex flex-col h-full">
                <h2 class="text-xl font-semibold text-slate-700 mb-4 flex-shrink-0">Jackman Engineering Telescopic Toilet Flange</h2>
                
                <!-- Action Button -->
                <button id="assemble-button" class="w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 disabled:bg-slate-400 disabled:cursor-not-allowed mb-6 flex-shrink-0" disabled>
                    Assemble Model
                </button>

                <!-- 
                  Scrolling text area.
                  'prose' class from typography plugin styles the text.
                  'overflow-y-auto' makes this part scroll.
                  'flex-grow' makes it fill the remaining space.
                -->
                <div class="prose prose-slate max-w-none overflow-y-auto flex-grow" style="max-height: calc(100% - 100px);">
                    <p>This is a demonstration of an "exploded view" animation. The model is composed of hardware </p>
                    <p>Click the "Assemble Model" button above to animate all the parts into their final, "assembled" positions. Click it again to reverse the animation and "explode" the parts back out.</p>
                    
                    <p>A telescoping toilet mounting assembly and a method for mounting a toilet to a floor and a wastewater pipe. Hollow bolts project from clamping plates to be received through mounting holes in an upper male flange section and through mounting holes of a toilet base. Base bolt nuts are tightened onto the hollow bolts to secure the upper male flange section to the toilet base prior to lowering the toilet and the upper male flange section into engagement with a lower female flange section. </p>
                    <h4>Identification of parts by color</h4>
                    <ul>
                        <li>Yellow: Post installation protective plug</li>
                        <li>Orange: Male flange, this part is glued to the toilet</li>
                        <li>Blue: Female flange, this part is glued to the drain</li>
                        <li>Darker Blue: Air tight O - Ring</li>
                    </ul>
                    <p>Fastening bolt structures with adjustable-length body portions and threaded tips can pass through the hollow bolts and into threaded engagement with mounting members fixed to the lower female flange section fixed to the wastewater pipe and the floor. Alternatively, fastening bolts pass through the hollow bolts and into threaded engagement with upstanding registration and locking rods retained relative to the lower female flange section.</p>
                </div>
            </div>
        </div>

    </div>

    <script type="module" src="script.js" defer></script>
</body>
</html>
